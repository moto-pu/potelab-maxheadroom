var be=Object.defineProperty;var ve=(e,i,n)=>i in e?be(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n;var we=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var P=(e,i,n)=>(ve(e,typeof i!="symbol"?i+"":i,n),n);import{E as Ee,b as X,V as M,c as x,d as se,Q as ce,O as B,e as le,P as Ce,S as Se}from"./three.module-0TS61eSs.js";var Ue=we(k=>{var U=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var i=1.70158;return e===1?1:e*e*((i+1)*e-i)},Out:function(e){var i=1.70158;return e===0?0:--e*e*((i+1)*e+i)+1},InOut:function(e){var i=2.5949095;return(e*=2)<1?.5*(e*e*((i+1)*e-i)):.5*((e-=2)*e*((i+1)*e+i)+2)}}),Bounce:Object.freeze({In:function(e){return 1-U.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?U.Bounce.In(e*2)*.5:U.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(i){return Math.pow(i,e)},Out:function(i){return 1-Math.pow(1-i,e)},InOut:function(i){return i<.5?Math.pow(i*2,e)/2:(1-Math.pow(2-i*2,e))/2+.5}}}}),F=function(){return performance.now()},he=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var i=this;return Object.keys(this._tweens).map(function(n){return i._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(i){this._tweens[i.getId()]=i,this._tweensAddedDuringUpdate[i.getId()]=i},e.prototype.remove=function(i){delete this._tweens[i.getId()],delete this._tweensAddedDuringUpdate[i.getId()]},e.prototype.update=function(i,n){i===void 0&&(i=F()),n===void 0&&(n=!1);var t=Object.keys(this._tweens);if(t.length===0)return!1;for(;t.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<t.length;s++){var u=this._tweens[t[s]],d=!n;u&&u.update(i,d)===!1&&!n&&delete this._tweens[t[s]]}t=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),D={Linear:function(e,i){var n=e.length-1,t=n*i,s=Math.floor(t),u=D.Utils.Linear;return i<0?u(e[0],e[1],t):i>1?u(e[n],e[n-1],n-t):u(e[s],e[s+1>n?n:s+1],t-s)},Bezier:function(e,i){for(var n=0,t=e.length-1,s=Math.pow,u=D.Utils.Bernstein,d=0;d<=t;d++)n+=s(1-i,t-d)*s(i,d)*e[d]*u(t,d);return n},CatmullRom:function(e,i){var n=e.length-1,t=n*i,s=Math.floor(t),u=D.Utils.CatmullRom;return e[0]===e[n]?(i<0&&(s=Math.floor(t=n*(1+i))),u(e[(s-1+n)%n],e[s],e[(s+1)%n],e[(s+2)%n],t-s)):i<0?e[0]-(u(e[0],e[0],e[1],e[1],-t)-e[0]):i>1?e[n]-(u(e[n],e[n],e[n-1],e[n-1],t-n)-e[n]):u(e[s?s-1:0],e[s],e[n<s+1?n:s+1],e[n<s+2?n:s+2],t-s)},Utils:{Linear:function(e,i,n){return(i-e)*n+e},Bernstein:function(e,i){var n=D.Utils.Factorial;return n(e)/n(i)/n(e-i)},Factorial:function(){var e=[1];return function(i){var n=1;if(e[i])return e[i];for(var t=i;t>1;t--)n*=t;return e[i]=n,n}}(),CatmullRom:function(e,i,n,t,s){var u=(n-e)*.5,d=(t-i)*.5,c=s*s,h=s*c;return(2*i-2*n+u+d)*h+(-3*i+3*n-2*u-d)*c+u*s+i}}},$=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),V=new he,Oe=function(){function e(i,n){n===void 0&&(n=V),this._object=i,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=U.Linear.None,this._interpolationFunction=D.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=$.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(i,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=i,this._propertiesAreSetUp=!1,this._duration=n,this},e.prototype.duration=function(i){return i===void 0&&(i=1e3),this._duration=i,this},e.prototype.dynamic=function(i){return i===void 0&&(i=!1),this._isDynamic=i,this},e.prototype.start=function(i,n){if(i===void 0&&(i=F()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var t in this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=i,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var u in this._valuesEnd)s[u]=this._valuesEnd[u];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(i){return this.start(i,!0)},e.prototype._setupProperties=function(i,n,t,s,u){for(var d in t){var c=i[d],h=Array.isArray(c),f=h?"array":typeof c,_=!h&&Array.isArray(t[d]);if(!(f==="undefined"||f==="function")){if(_){var a=t[d];if(a.length===0)continue;for(var E=[c],y=0,C=a.length;y<C;y+=1){var l=this._handleRelativeValue(c,a[y]);if(isNaN(l)){_=!1,console.warn("Found invalid interpolation list. Skipping.");break}E.push(l)}_&&(t[d]=E)}if((f==="object"||h)&&c&&!_){n[d]=h?[]:{};var r=c;for(var g in r)n[d][g]=r[g];s[d]=h?[]:{};var a=t[d];if(!this._isDynamic){var S={};for(var g in a)S[g]=a[g];t[d]=a=S}this._setupProperties(r,n[d],a,s[d],u)}else(typeof n[d]>"u"||u)&&(n[d]=c),h||(n[d]*=1),_?s[d]=t[d].slice().reverse():s[d]=n[d]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(i){return i===void 0&&(i=F()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=i,this._group&&this._group.remove(this),this)},e.prototype.resume=function(i){return i===void 0&&(i=F()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=i-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var i=0,n=this._chainedTweens.length;i<n;i++)this._chainedTweens[i].stop();return this},e.prototype.group=function(i){return i===void 0&&(i=V),this._group=i,this},e.prototype.delay=function(i){return i===void 0&&(i=0),this._delayTime=i,this},e.prototype.repeat=function(i){return i===void 0&&(i=0),this._initialRepeat=i,this._repeat=i,this},e.prototype.repeatDelay=function(i){return this._repeatDelayTime=i,this},e.prototype.yoyo=function(i){return i===void 0&&(i=!1),this._yoyo=i,this},e.prototype.easing=function(i){return i===void 0&&(i=U.Linear.None),this._easingFunction=i,this},e.prototype.interpolation=function(i){return i===void 0&&(i=D.Linear),this._interpolationFunction=i,this},e.prototype.chain=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return this._chainedTweens=i,this},e.prototype.onStart=function(i){return this._onStartCallback=i,this},e.prototype.onEveryStart=function(i){return this._onEveryStartCallback=i,this},e.prototype.onUpdate=function(i){return this._onUpdateCallback=i,this},e.prototype.onRepeat=function(i){return this._onRepeatCallback=i,this},e.prototype.onComplete=function(i){return this._onCompleteCallback=i,this},e.prototype.onStop=function(i){return this._onStopCallback=i,this},e.prototype.update=function(i,n){if(i===void 0&&(i=F()),n===void 0&&(n=!0),this._isPaused)return!0;var t,s,u=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(i>u)return!1;n&&this.start(i,!0)}if(this._goToEnd=!1,i<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),s=(i-this._startTime)/this._duration,s=this._duration===0||s>1?1:s;var d=this._easingFunction(s);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,d),this._onUpdateCallback&&this._onUpdateCallback(this._object,s),s===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(t in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[t]=="string"&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo&&this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=i+this._repeatDelayTime:this._startTime=i+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var c=0,h=this._chainedTweens.length;c<h;c++)this._chainedTweens[c].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(i,n,t,s){for(var u in t)if(n[u]!==void 0){var d=n[u]||0,c=t[u],h=Array.isArray(i[u]),f=Array.isArray(c),_=!h&&f;_?i[u]=this._interpolationFunction(c,s):typeof c=="object"&&c?this._updateProperties(i[u],d,c,s):(c=this._handleRelativeValue(d,c),typeof c=="number"&&(i[u]=d+(c-d)*s))}},e.prototype._handleRelativeValue=function(i,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?i+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(i){var n=this._valuesStartRepeat[i],t=this._valuesEnd[i];typeof t=="string"?this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(t):this._valuesStartRepeat[i]=this._valuesEnd[i],this._valuesEnd[i]=n},e}(),Me="21.0.0",Te=$.nextId,I=V,Pe=I.getAll.bind(I),xe=I.removeAll.bind(I),je=I.add.bind(I),Ie=I.remove.bind(I),Ae=I.update.bind(I),k={Easing:U,Group:he,Interpolation:D,now:F,Sequence:$,nextId:Te,Tween:Oe,VERSION:Me,getAll:Pe,removeAll:xe,add:je,remove:Ie,update:Ae};const q={type:"change"},G={type:"start"},Q={type:"end"};class Ne extends Ee{constructor(i,n){super();const t=this,s={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=i,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:X.ROTATE,MIDDLE:X.DOLLY,RIGHT:X.PAN},this.target=new M;const u=1e-6,d=new M;let c=1,h=s.NONE,f=s.NONE,_=0,a=0,E=0;const y=new M,C=new x,l=new x,r=new M,g=new x,S=new x,v=new x,w=new x,m=[],A={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const o=t.domElement.getBoundingClientRect(),p=t.domElement.ownerDocument.documentElement;t.screen.left=o.left+window.pageXOffset-p.clientLeft,t.screen.top=o.top+window.pageYOffset-p.clientTop,t.screen.width=o.width,t.screen.height=o.height};const T=function(){const o=new x;return function(b,O){return o.set((b-t.screen.left)/t.screen.width,(O-t.screen.top)/t.screen.height),o}}(),L=function(){const o=new x;return function(b,O){return o.set((b-t.screen.width*.5-t.screen.left)/(t.screen.width*.5),(t.screen.height+2*(t.screen.top-O))/t.screen.width),o}}();this.rotateCamera=function(){const o=new M,p=new ce,b=new M,O=new M,N=new M,R=new M;return function(){R.set(l.x-C.x,l.y-C.y,0);let H=R.length();H?(y.copy(t.object.position).sub(t.target),b.copy(y).normalize(),O.copy(t.object.up).normalize(),N.crossVectors(O,b).normalize(),O.setLength(l.y-C.y),N.setLength(l.x-C.x),R.copy(O.add(N)),o.crossVectors(R,y).normalize(),H*=t.rotateSpeed,p.setFromAxisAngle(o,H),y.applyQuaternion(p),t.object.up.applyQuaternion(p),r.copy(o),E=H):!t.staticMoving&&E&&(E*=Math.sqrt(1-t.dynamicDampingFactor),y.copy(t.object.position).sub(t.target),p.setFromAxisAngle(r,E),y.applyQuaternion(p),t.object.up.applyQuaternion(p)),C.copy(l)}}(),this.zoomCamera=function(){let o;h===s.TOUCH_ZOOM_PAN?(o=_/a,_=a,t.object.isPerspectiveCamera?y.multiplyScalar(o):t.object.isOrthographicCamera?(t.object.zoom=se.clamp(t.object.zoom/o,t.minZoom,t.maxZoom),c!==t.object.zoom&&t.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(o=1+(S.y-g.y)*t.zoomSpeed,o!==1&&o>0&&(t.object.isPerspectiveCamera?y.multiplyScalar(o):t.object.isOrthographicCamera?(t.object.zoom=se.clamp(t.object.zoom/o,t.minZoom,t.maxZoom),c!==t.object.zoom&&t.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),t.staticMoving?g.copy(S):g.y+=(S.y-g.y)*this.dynamicDampingFactor)},this.panCamera=function(){const o=new x,p=new M,b=new M;return function(){if(o.copy(w).sub(v),o.lengthSq()){if(t.object.isOrthographicCamera){const N=(t.object.right-t.object.left)/t.object.zoom/t.domElement.clientWidth,R=(t.object.top-t.object.bottom)/t.object.zoom/t.domElement.clientWidth;o.x*=N,o.y*=R}o.multiplyScalar(y.length()*t.panSpeed),b.copy(y).cross(t.object.up).setLength(o.x),b.add(p.copy(t.object.up).setLength(o.y)),t.object.position.add(b),t.target.add(b),t.staticMoving?v.copy(w):v.add(o.subVectors(w,v).multiplyScalar(t.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!t.noZoom||!t.noPan)&&(y.lengthSq()>t.maxDistance*t.maxDistance&&(t.object.position.addVectors(t.target,y.setLength(t.maxDistance)),g.copy(S)),y.lengthSq()<t.minDistance*t.minDistance&&(t.object.position.addVectors(t.target,y.setLength(t.minDistance)),g.copy(S)))},this.update=function(){y.subVectors(t.object.position,t.target),t.noRotate||t.rotateCamera(),t.noZoom||t.zoomCamera(),t.noPan||t.panCamera(),t.object.position.addVectors(t.target,y),t.object.isPerspectiveCamera?(t.checkDistances(),t.object.lookAt(t.target),d.distanceToSquared(t.object.position)>u&&(t.dispatchEvent(q),d.copy(t.object.position))):t.object.isOrthographicCamera?(t.object.lookAt(t.target),(d.distanceToSquared(t.object.position)>u||c!==t.object.zoom)&&(t.dispatchEvent(q),d.copy(t.object.position),c=t.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){h=s.NONE,f=s.NONE,t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.up.copy(t.up0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),y.subVectors(t.object.position,t.target),t.object.lookAt(t.target),t.dispatchEvent(q),d.copy(t.object.position),c=t.object.zoom};function K(o){t.enabled!==!1&&(m.length===0&&(t.domElement.setPointerCapture(o.pointerId),t.domElement.addEventListener("pointermove",Y),t.domElement.addEventListener("pointerup",W)),ge(o),o.pointerType==="touch"?fe(o):ue(o))}function Y(o){t.enabled!==!1&&(o.pointerType==="touch"?me(o):de(o))}function W(o){t.enabled!==!1&&(o.pointerType==="touch"?ye(o):pe(),ne(o),m.length===0&&(t.domElement.releasePointerCapture(o.pointerId),t.domElement.removeEventListener("pointermove",Y),t.domElement.removeEventListener("pointerup",W)))}function J(o){ne(o)}function Z(o){t.enabled!==!1&&(window.removeEventListener("keydown",Z),f===s.NONE&&(o.code===t.keys[s.ROTATE]&&!t.noRotate?f=s.ROTATE:o.code===t.keys[s.ZOOM]&&!t.noZoom?f=s.ZOOM:o.code===t.keys[s.PAN]&&!t.noPan&&(f=s.PAN)))}function ee(){t.enabled!==!1&&(f=s.NONE,window.addEventListener("keydown",Z))}function ue(o){if(h===s.NONE)switch(o.button){case t.mouseButtons.LEFT:h=s.ROTATE;break;case t.mouseButtons.MIDDLE:h=s.ZOOM;break;case t.mouseButtons.RIGHT:h=s.PAN;break}const p=f!==s.NONE?f:h;p===s.ROTATE&&!t.noRotate?(l.copy(L(o.pageX,o.pageY)),C.copy(l)):p===s.ZOOM&&!t.noZoom?(g.copy(T(o.pageX,o.pageY)),S.copy(g)):p===s.PAN&&!t.noPan&&(v.copy(T(o.pageX,o.pageY)),w.copy(v)),t.dispatchEvent(G)}function de(o){const p=f!==s.NONE?f:h;p===s.ROTATE&&!t.noRotate?(C.copy(l),l.copy(L(o.pageX,o.pageY))):p===s.ZOOM&&!t.noZoom?S.copy(T(o.pageX,o.pageY)):p===s.PAN&&!t.noPan&&w.copy(T(o.pageX,o.pageY))}function pe(){h=s.NONE,t.dispatchEvent(Q)}function te(o){if(t.enabled!==!1&&t.noZoom!==!0){switch(o.preventDefault(),o.deltaMode){case 2:g.y-=o.deltaY*.025;break;case 1:g.y-=o.deltaY*.01;break;default:g.y-=o.deltaY*25e-5;break}t.dispatchEvent(G),t.dispatchEvent(Q)}}function fe(o){switch(oe(o),m.length){case 1:h=s.TOUCH_ROTATE,l.copy(L(m[0].pageX,m[0].pageY)),C.copy(l);break;default:h=s.TOUCH_ZOOM_PAN;const p=m[0].pageX-m[1].pageX,b=m[0].pageY-m[1].pageY;a=_=Math.sqrt(p*p+b*b);const O=(m[0].pageX+m[1].pageX)/2,N=(m[0].pageY+m[1].pageY)/2;v.copy(T(O,N)),w.copy(v);break}t.dispatchEvent(G)}function me(o){switch(oe(o),m.length){case 1:C.copy(l),l.copy(L(o.pageX,o.pageY));break;default:const p=_e(o),b=o.pageX-p.x,O=o.pageY-p.y;a=Math.sqrt(b*b+O*O);const N=(o.pageX+p.x)/2,R=(o.pageY+p.y)/2;w.copy(T(N,R));break}}function ye(o){switch(m.length){case 0:h=s.NONE;break;case 1:h=s.TOUCH_ROTATE,l.copy(L(o.pageX,o.pageY)),C.copy(l);break;case 2:h=s.TOUCH_ZOOM_PAN;for(let p=0;p<m.length;p++)if(m[p].pointerId!==o.pointerId){const b=A[m[p].pointerId];l.copy(L(b.x,b.y)),C.copy(l);break}break}t.dispatchEvent(Q)}function ie(o){t.enabled!==!1&&o.preventDefault()}function ge(o){m.push(o)}function ne(o){delete A[o.pointerId];for(let p=0;p<m.length;p++)if(m[p].pointerId==o.pointerId){m.splice(p,1);return}}function oe(o){let p=A[o.pointerId];p===void 0&&(p=new x,A[o.pointerId]=p),p.set(o.pageX,o.pageY)}function _e(o){const p=o.pointerId===m[0].pointerId?m[1]:m[0];return A[p.pointerId]}this.dispose=function(){t.domElement.removeEventListener("contextmenu",ie),t.domElement.removeEventListener("pointerdown",K),t.domElement.removeEventListener("pointercancel",J),t.domElement.removeEventListener("wheel",te),t.domElement.removeEventListener("pointermove",Y),t.domElement.removeEventListener("pointerup",W),window.removeEventListener("keydown",Z),window.removeEventListener("keyup",ee)},this.domElement.addEventListener("contextmenu",ie),this.domElement.addEventListener("pointerdown",K),this.domElement.addEventListener("pointercancel",J),this.domElement.addEventListener("wheel",te,{passive:!1}),window.addEventListener("keydown",Z),window.addEventListener("keyup",ee),this.handleResize(),this.update()}}const re=new M,ke=new ce,ae=new M;class Re extends B{constructor(i=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=i,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(n){n.element instanceof Element&&n.element.parentNode!==null&&n.element.parentNode.removeChild(n.element)})})}copy(i,n){return super.copy(i,n),this.element=i.element.cloneNode(!0),this}}const j=new le,De=new le;class Le{constructor(i={}){const n=this;let t,s,u,d;const c={camera:{style:""},objects:new WeakMap},h=i.element!==void 0?i.element:document.createElement("div");h.style.overflow="hidden",this.domElement=h;const f=document.createElement("div");f.style.transformOrigin="0 0",f.style.pointerEvents="none",h.appendChild(f);const _=document.createElement("div");_.style.transformStyle="preserve-3d",f.appendChild(_),this.getSize=function(){return{width:t,height:s}},this.render=function(l,r){const g=r.projectionMatrix.elements[5]*d;r.view&&r.view.enabled?(f.style.transform=`translate( ${-r.view.offsetX*(t/r.view.width)}px, ${-r.view.offsetY*(s/r.view.height)}px )`,f.style.transform+=`scale( ${r.view.fullWidth/r.view.width}, ${r.view.fullHeight/r.view.height} )`):f.style.transform="",l.matrixWorldAutoUpdate===!0&&l.updateMatrixWorld(),r.parent===null&&r.matrixWorldAutoUpdate===!0&&r.updateMatrixWorld();let S,v;r.isOrthographicCamera&&(S=-(r.right+r.left)/2,v=(r.top+r.bottom)/2);const w=r.view&&r.view.enabled?r.view.height/r.view.fullHeight:1,m=r.isOrthographicCamera?`scale( ${w} )scale(`+g+")translate("+a(S)+"px,"+a(v)+"px)"+E(r.matrixWorldInverse):`scale( ${w} )translateZ(`+g+"px)"+E(r.matrixWorldInverse),T=(r.isPerspectiveCamera?"perspective("+g+"px) ":"")+m+"translate("+u+"px,"+d+"px)";c.camera.style!==T&&(_.style.transform=T,c.camera.style=T),C(l,l,r)},this.setSize=function(l,r){t=l,s=r,u=t/2,d=s/2,h.style.width=l+"px",h.style.height=r+"px",f.style.width=l+"px",f.style.height=r+"px",_.style.width=l+"px",_.style.height=r+"px"};function a(l){return Math.abs(l)<1e-10?0:l}function E(l){const r=l.elements;return"matrix3d("+a(r[0])+","+a(-r[1])+","+a(r[2])+","+a(r[3])+","+a(r[4])+","+a(-r[5])+","+a(r[6])+","+a(r[7])+","+a(r[8])+","+a(-r[9])+","+a(r[10])+","+a(r[11])+","+a(r[12])+","+a(-r[13])+","+a(r[14])+","+a(r[15])+")"}function y(l){const r=l.elements;return"translate(-50%,-50%)"+("matrix3d("+a(r[0])+","+a(r[1])+","+a(r[2])+","+a(r[3])+","+a(-r[4])+","+a(-r[5])+","+a(-r[6])+","+a(-r[7])+","+a(r[8])+","+a(r[9])+","+a(r[10])+","+a(r[11])+","+a(r[12])+","+a(r[13])+","+a(r[14])+","+a(r[15])+")")}function C(l,r,g,S){if(l.isCSS3DObject){const v=l.visible===!0&&l.layers.test(g.layers)===!0;if(l.element.style.display=v===!0?"":"none",v===!0){l.onBeforeRender(n,r,g);let w;l.isCSS3DSprite?(j.copy(g.matrixWorldInverse),j.transpose(),l.rotation2D!==0&&j.multiply(De.makeRotationZ(l.rotation2D)),l.matrixWorld.decompose(re,ke,ae),j.setPosition(re),j.scale(ae),j.elements[3]=0,j.elements[7]=0,j.elements[11]=0,j.elements[15]=1,w=y(j)):w=y(l.matrixWorld);const m=l.element,A=c.objects.get(l);if(A===void 0||A.style!==w){m.style.transform=w;const T={style:w};c.objects.set(l,T)}m.parentNode!==_&&_.appendChild(m),l.onAfterRender(n,r,g)}}for(let v=0,w=l.children.length;v<w;v++)C(l.children[v],r,g)}}}const z=["H","Hydrogen","1.00794",1,1,"He","Helium","4.002602",18,1,"Li","Lithium","6.941",1,2,"Be","Beryllium","9.012182",2,2,"B","Boron","10.811",13,2,"C","Carbon","12.0107",14,2,"N","Nitrogen","14.0067",15,2,"O","Oxygen","15.9994",16,2,"F","Fluorine","18.9984032",17,2,"Ne","Neon","20.1797",18,2,"Na","Sodium","22.98976...",1,3,"Mg","Magnesium","24.305",2,3,"Al","Aluminium","26.9815386",13,3,"Si","Silicon","28.0855",14,3,"P","Phosphorus","30.973762",15,3,"S","Sulfur","32.065",16,3,"Cl","Chlorine","35.453",17,3,"Ar","Argon","39.948",18,3,"K","Potassium","39.948",1,4,"Ca","Calcium","40.078",2,4,"Sc","Scandium","44.955912",3,4,"Ti","Titanium","47.867",4,4,"V","Vanadium","50.9415",5,4,"Cr","Chromium","51.9961",6,4,"Mn","Manganese","54.938045",7,4,"Fe","Iron","55.845",8,4,"Co","Cobalt","58.933195",9,4,"Ni","Nickel","58.6934",10,4,"Cu","Copper","63.546",11,4,"Zn","Zinc","65.38",12,4,"Ga","Gallium","69.723",13,4,"Ge","Germanium","72.63",14,4,"As","Arsenic","74.9216",15,4,"Se","Selenium","78.96",16,4,"Br","Bromine","79.904",17,4,"Kr","Krypton","83.798",18,4,"Rb","Rubidium","85.4678",1,5,"Sr","Strontium","87.62",2,5,"Y","Yttrium","88.90585",3,5,"Zr","Zirconium","91.224",4,5,"Nb","Niobium","92.90628",5,5,"Mo","Molybdenum","95.96",6,5,"Tc","Technetium","(98)",7,5,"Ru","Ruthenium","101.07",8,5,"Rh","Rhodium","102.9055",9,5,"Pd","Palladium","106.42",10,5,"Ag","Silver","107.8682",11,5,"Cd","Cadmium","112.411",12,5,"In","Indium","114.818",13,5,"Sn","Tin","118.71",14,5,"Sb","Antimony","121.76",15,5,"Te","Tellurium","127.6",16,5,"I","Iodine","126.90447",17,5,"Xe","Xenon","131.293",18,5,"Cs","Caesium","132.9054",1,6,"Ba","Barium","132.9054",2,6,"La","Lanthanum","138.90547",4,9,"Ce","Cerium","140.116",5,9,"Pr","Praseodymium","140.90765",6,9,"Nd","Neodymium","144.242",7,9,"Pm","Promethium","(145)",8,9,"Sm","Samarium","150.36",9,9,"Eu","Europium","151.964",10,9,"Gd","Gadolinium","157.25",11,9,"Tb","Terbium","158.92535",12,9,"Dy","Dysprosium","162.5",13,9,"Ho","Holmium","164.93032",14,9,"Er","Erbium","167.259",15,9,"Tm","Thulium","168.93421",16,9,"Yb","Ytterbium","173.054",17,9,"Lu","Lutetium","174.9668",18,9,"Hf","Hafnium","178.49",4,6,"Ta","Tantalum","180.94788",5,6,"W","Tungsten","183.84",6,6,"Re","Rhenium","186.207",7,6,"Os","Osmium","190.23",8,6,"Ir","Iridium","192.217",9,6,"Pt","Platinum","195.084",10,6,"Au","Gold","196.966569",11,6,"Hg","Mercury","200.59",12,6,"Tl","Thallium","204.3833",13,6,"Pb","Lead","207.2",14,6,"Bi","Bismuth","208.9804",15,6,"Po","Polonium","(209)",16,6,"At","Astatine","(210)",17,6,"Rn","Radon","(222)",18,6,"Fr","Francium","(223)",1,7,"Ra","Radium","(226)",2,7,"Ac","Actinium","(227)",4,10,"Th","Thorium","232.03806",5,10,"Pa","Protactinium","231.0588",6,10,"U","Uranium","238.02891",7,10,"Np","Neptunium","(237)",8,10,"Pu","Plutonium","(244)",9,10,"Am","Americium","(243)",10,10,"Cm","Curium","(247)",11,10,"Bk","Berkelium","(247)",12,10,"Cf","Californium","(251)",13,10,"Es","Einstenium","(252)",14,10,"Fm","Fermium","(257)",15,10,"Md","Mendelevium","(258)",16,10,"No","Nobelium","(259)",17,10,"Lr","Lawrencium","(262)",18,10,"Rf","Rutherfordium","(267)",4,7,"Db","Dubnium","(268)",5,7,"Sg","Seaborgium","(271)",6,7,"Bh","Bohrium","(272)",7,7,"Hs","Hassium","(270)",8,7,"Mt","Meitnerium","(276)",9,7,"Ds","Darmstadium","(281)",10,7,"Rg","Roentgenium","(280)",11,7,"Cn","Copernicium","(285)",12,7,"Nh","Nihonium","(286)",13,7,"Fl","Flerovium","(289)",14,7,"Mc","Moscovium","(290)",15,7,"Lv","Livermorium","(293)",16,7,"Ts","Tennessine","(294)",17,7,"Og","Oganesson","(294)",18,7];class ze{constructor(){P(this,"camera");P(this,"scene");P(this,"renderer");P(this,"controls");P(this,"objects",[]);P(this,"targets",{table:[],sphere:[],helix:[],grid:[]});P(this,"onWindowResize",()=>{this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.render()});P(this,"animate",()=>{requestAnimationFrame(this.animate),k.update(),this.controls.update()});P(this,"render",()=>{this.renderer.render(this.scene,this.camera)});var d;this.camera=new Ce(40,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=3e3,this.scene=new Se;for(let c=0;c<z.length;c+=5){const h=document.createElement("div");h.className="element",h.style.backgroundColor=`rgba(0,127,127,${Math.random()*.5+.25})`;const f=document.createElement("div");f.className="number",f.textContent=String(c/5+1),h.appendChild(f);const _=document.createElement("div");_.className="symbol",_.textContent=String(z[c]),h.appendChild(_);const a=document.createElement("div");a.className="details",a.innerHTML=z[c+1]+"<br>"+z[c+2],h.appendChild(a);const E=new Re(h);E.position.x=Math.random()*4e3-2e3,E.position.y=Math.random()*4e3-2e3,E.position.z=Math.random()*4e3-2e3,this.scene.add(E),this.objects.push(E);const y=new B;y.position.x=Number(z[c+3])*140-1330,y.position.y=-(Number(z[c+4])*180)+990,this.targets.table.push(y)}const i=new M;for(let c=0,h=this.objects.length;c<h;c++){const f=Math.acos(-1+2*c/h),_=Math.sqrt(h*Math.PI)*f,a=new B;a.position.setFromSphericalCoords(800,f,_),i.copy(a.position).multiplyScalar(2),a.lookAt(i),this.targets.sphere.push(a)}for(let c=0,h=this.objects.length;c<h;c++){const f=c*.175+Math.PI,_=-(c*8)+450,a=new B;a.position.setFromCylindricalCoords(900,f,_),i.x=a.position.x*2,i.y=a.position.y,i.z=a.position.z*2,a.lookAt(i),this.targets.helix.push(a)}for(let c=0;c<this.objects.length;c++){const h=new B;h.position.x=c%5*400-800,h.position.y=-(Math.floor(c/5)%5)*400+800,h.position.z=Math.floor(c/25)*1e3-2e3,this.targets.grid.push(h)}this.renderer=new Le,this.renderer.setSize(window.innerWidth,window.innerHeight),(d=document.getElementById("container"))==null||d.appendChild(this.renderer.domElement),this.controls=new Ne(this.camera,this.renderer.domElement),this.controls.minDistance=500,this.controls.maxDistance=6e3,this.controls.addEventListener("change",this.render);const n=document.getElementById("table");n==null||n.addEventListener("click",()=>{this.transform(this.targets.table,2e3)});const t=document.getElementById("sphere");t==null||t.addEventListener("click",()=>{this.transform(this.targets.sphere,2e3)});const s=document.getElementById("helix");s==null||s.addEventListener("click",()=>{this.transform(this.targets.helix,2e3)});const u=document.getElementById("grid");u==null||u.addEventListener("click",()=>{this.transform(this.targets.grid,2e3)}),this.transform(this.targets.table,2e3),window.addEventListener("resize",this.onWindowResize)}transform(i,n){k.removeAll();for(let t=0;t<this.objects.length;t++){const s=this.objects[t],u=i[t];new k.Tween(s.position).to({x:u.position.x,y:u.position.y,z:u.position.z},Math.random()*n+n).easing(k.Easing.Exponential.InOut).start(),new k.Tween(s.rotation).to({x:u.rotation.x,y:u.rotation.y,z:u.rotation.z},Math.random()*n+n).easing(k.Easing.Exponential.InOut).start()}new k.Tween(this).to({},n*2).onUpdate(this.render).start()}}const Fe=new ze;Fe.animate()});export default Ue();
