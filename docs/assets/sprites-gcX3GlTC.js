var b=Object.defineProperty;var S=(c,i,e)=>i in c?b(c,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[i]=e;var o=(c,i,e)=>(S(c,typeof i!="symbol"?i+"":i,e),e);import{P as g,S as j}from"./three.module-2hxVk-Lt.js";import{b as x,a as z,T as E,e as p}from"./CSS3DRenderer-cJY65BUY.js";class P{constructor(i){o(this,"camera");o(this,"scene");o(this,"renderer");o(this,"controls");o(this,"particlesTotal",512);o(this,"positions",[]);o(this,"objects",[]);o(this,"current",0);o(this,"onWindowResize",()=>{this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)});o(this,"transition",()=>{const i=this.current*this.particlesTotal*3,e=2e3;for(let a=0,r=i;a<this.particlesTotal;a++,r+=3){const n=this.objects[a];new p.Tween(n.position).to({x:this.positions[r],y:this.positions[r+1],z:this.positions[r+2]},Math.random()*e+e).easing(p.Easing.Exponential.InOut).start()}new p.Tween(this).to({},e*3).onComplete(this.transition).start(),this.current=(this.current+1)%4});o(this,"animate",()=>{requestAnimationFrame(this.animate),p.update(),this.controls.update();const i=performance.now();for(let e=0,a=this.objects.length;e<a;e++){const r=this.objects[e],n=Math.sin((Math.floor(r.position.x)+i)*.002)*.3+1;r.scale.set(n,n,n)}this.renderer.render(this.scene,this.camera)});var M;this.camera=new g(75,window.innerWidth/window.innerHeight,1,5e3),this.camera.position.set(600,400,1500),this.camera.lookAt(0,0,0),this.scene=new j;const e=document.createElement("img");e.addEventListener("load",()=>{for(let t=0;t<this.particlesTotal;t++){const s=new x(e.cloneNode());s.position.x=Math.random()*4e3-2e3,s.position.y=Math.random()*4e3-2e3,s.position.z=Math.random()*4e3-2e3,this.scene.add(s),this.objects.push(s)}this.transition()}),e.src=`textures/${i}`;const a=16,r=32,n=150,f=(a-1)*n/2,T=(r-1)*n/2;for(let t=0;t<this.particlesTotal;t++){const s=t%a*n,h=Math.floor(t/a)*n,u=(Math.sin(s*.5)+Math.sin(h*.5))*200;this.positions.push(s-f,u,h-T)}const l=8,d=150,m=(l-1)*d/2;for(let t=0;t<this.particlesTotal;t++){const s=t%l*d,h=Math.floor(t/l%l)*d,u=Math.floor(t/(l*l))*d;this.positions.push(s-m,h-m,u-m)}for(let t=0;t<this.particlesTotal;t++)this.positions.push(Math.random()*4e3-2e3,Math.random()*4e3-2e3,Math.random()*4e3-2e3);const w=750;for(let t=0;t<this.particlesTotal;t++){const s=Math.acos(-1+2*t/this.particlesTotal),h=Math.sqrt(this.particlesTotal*Math.PI)*s;this.positions.push(w*Math.cos(h)*Math.sin(s),w*Math.sin(h)*Math.sin(s),w*Math.cos(s))}this.renderer=new z,this.renderer.setSize(window.innerWidth,window.innerHeight),(M=document.getElementById("container"))==null||M.appendChild(this.renderer.domElement),this.controls=new E(this.camera,this.renderer.domElement),window.addEventListener("resize",this.onWindowResize)}}export{P as S};
